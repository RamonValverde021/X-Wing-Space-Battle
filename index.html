<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta name="author" content="Ramon Valverde">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="Jogo estilo retrô de combate espacial inspirado em StarWars">
    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="StarWars - X-Wing Space Battle">
    <meta name="msapplication-navbutton-color" content="#000000" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>StarWars - X-Wing Space Battle</title>
    <link rel="icon" href="./images/icon-192.png">
    <link rel="manifest" href="./manifest.json">
    <style>
        @font-face {
            font-family: 'fontPixelArt';
            src: url("./font/ARCADECLASSIC.TTF");
        }

        * {
            /* Resetar modulos de espaçamentos*/
            margin: 0px;
            padding: 0px;
            font-family: fontPixelArt;
        }

        body,
        html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: black;
        }

        #tela_jogo {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>

<!--
    *Usar uma única página e trocar o conteúdo com JavaScript*

    Essa é a forma profissional (e usada por praticamente todos os jogos web e PWAs).
    Em vez de abrir novos arquivos .html, você mantém um único index.html e carrega o conteúdo dinamicamente via JavaScript.

    Assim o fullscreen continua ativo, porque você nunca sai do index.html.
    Essa técnica é o SPA (Single Page Application) — usada em frameworks como React, Vue e Angular, mas você pode fazer na mão também.

    *Usar um <iframe>

    Se quiser continuar com páginas separadas, dá pra carregar as outras dentro de um iframe que permanece em fullscreen:
    Aí você só troca o src do iframe quando quiser mudar de “página”:

    window.parent.document.getElementById("tela_jogo").src = "./html/intro.html";
-->

<body id="index">

    <iframe id="tela_jogo" src="./html/intro.html"></iframe>

    <script>
        // Registra o Service Worker para funcionalidade PWA e cache offline.
        if ('serviceWorker' in navigator) {                                               // Verifica se o navegador do usuário suporta a tecnologia Service Worker.
            window.addEventListener('load', () => {                                       // Aguarda o evento 'load' da página, garantindo que o registro não atrase o carregamento inicial.
                navigator.serviceWorker.register('/service-worker.js')                    // Tenta registrar o arquivo do Service Worker, localizado na raiz do projeto.
                    .then(() => console.log("Service Worker registrado com sucesso ✅")) // Se o registro for bem-sucedido, exibe uma mensagem de sucesso no console.
                    .catch(err => console.error("Erro ao registrar SW:", err, "🚫"));    // Se ocorrer um erro durante o registro, exibe o erro no console.
            });
        }
    </script>

</body>


</html>
